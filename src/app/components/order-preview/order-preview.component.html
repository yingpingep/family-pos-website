<div fxLayout="column" class="container">
    <h1>已點清單</h1>
    <mat-list fxFlex="1 1 auto" class="order-list" cdkScrollable>
        <ng-container *ngFor="let type of sectionTypes; index as i">
            <div mat-subheader>{{ type }}</div>
            <mat-list-item *ngFor="let item of sections.get(type)!">
                <button
                    [mat-menu-trigger-for]="menu"
                    mat-button
                    class="order-list__item__edit"
                >
                    <mat-icon>more_horiz</mat-icon>
                </button>
                <div mat-line>{{ item.name }}</div>
                <div mat-line fxLayout fxLayoutAlign="space-between">
                    <span>x {{ item.count }}</span>
                    <span>{{
                        item.price * item.count | currency: 'TWD':'NT$ ':'1.0-0'
                    }}</span>
                </div>
            </mat-list-item>
            <mat-divider *ngIf="i !== sectionTypes.length - 1"></mat-divider>
        </ng-container>
    </mat-list>

    <mat-divider></mat-divider>
    <div class="button-group" fxLayout fxLayoutAlign="space-around">
        <button
            mat-stroked-button
            color="primary"
            fxFlex="1 1 33%"
            (click)="cancelClick.emit()"
        >
            取消
        </button>
        <button mat-raised-button color="primary" fxFlex="1 1 33%">確認</button>
    </div>
</div>

<mat-menu #menu>
    <button mat-menu-item>修改</button>
    <button mat-menu-item>刪除</button>
</mat-menu>
